version: "2.0"
services:
 renderservice:
    build:
      context: ./render
    ports:
      - "8080"
    links:
      - mongo
    volumes:
      - ./example_1:/tmp/example_1:ro
    environment:
      - MONGO_HOST=mongo
      - MONGO_PORT=27017
 mongo:
    image: mongo:3.4.2
    expose:
        - "27017"
    security_opt:
      - seccomp:unconfined
 render-python:
   image: fcollman/render-python-client
   links:
     - renderservice
   volumes:
     - ./test-reports:/shared/render-python/test-reports
     - ./htmlcov:/shared/render-python/htmlcov
     - ./example_1:/tmp/example_1:ro
   environment:
    - RENDER_EXAMPLE_DATA=/tmp
    - RENDER_CLIENT_SCRIPTS=/shared/render/render-ws-java-client/src/main/scripts
